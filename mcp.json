{
  "mcpVersion": "2024-11-05",
  "name": "clangd-mcp-server",
  "version": "0.0.1",
  "description": "MCP server that exposes clangd Language Server capabilities as tools",
  "author": "VSCode Extension",
  "license": "MIT",
  "capabilities": {
    "tools": {}
  },
  "tools": [
    {
      "name": "clangd.definition",
      "description": "Get the definition location of a symbol at a specific position in a C/C++ file",
      "inputSchema": {
        "type": "object",
        "properties": {
          "uri": {
            "type": "string",
            "description": "File URI (file:// scheme)"
          },
          "position": {
            "type": "object",
            "properties": {
              "line": {
                "type": "integer",
                "description": "Line number (0-based)"
              },
              "character": {
                "type": "integer", 
                "description": "Character offset in line (0-based)"
              }
            },
            "required": ["line", "character"]
          }
        },
        "required": ["uri", "position"]
      }
    },
    {
      "name": "clangd.references",
      "description": "Find all references to a symbol at a specific position in a C/C++ file",
      "inputSchema": {
        "type": "object",
        "properties": {
          "uri": {
            "type": "string",
            "description": "File URI (file:// scheme)"
          },
          "position": {
            "type": "object",
            "properties": {
              "line": {
                "type": "integer",
                "description": "Line number (0-based)"
              },
              "character": {
                "type": "integer",
                "description": "Character offset in line (0-based)"
              }
            },
            "required": ["line", "character"]
          },
          "includeDeclaration": {
            "type": "boolean",
            "description": "Whether to include the declaration in results",
            "default": true
          }
        },
        "required": ["uri", "position"]
      }
    },
    {
      "name": "clangd.hover",
      "description": "Get hover information (type, documentation) for a symbol at a specific position",
      "inputSchema": {
        "type": "object",
        "properties": {
          "uri": {
            "type": "string",
            "description": "File URI (file:// scheme)"
          },
          "position": {
            "type": "object",
            "properties": {
              "line": {
                "type": "integer",
                "description": "Line number (0-based)"
              },
              "character": {
                "type": "integer",
                "description": "Character offset in line (0-based)"
              }
            },
            "required": ["line", "character"]
          }
        },
        "required": ["uri", "position"]
      }
    },
    {
      "name": "clangd.completion",
      "description": "Get code completion suggestions at a specific position in a C/C++ file",
      "inputSchema": {
        "type": "object",
        "properties": {
          "uri": {
            "type": "string",
            "description": "File URI (file:// scheme)"
          },
          "position": {
            "type": "object",
            "properties": {
              "line": {
                "type": "integer",
                "description": "Line number (0-based)"
              },
              "character": {
                "type": "integer",
                "description": "Character offset in line (0-based)"
              }
            },
            "required": ["line", "character"]
          },
          "triggerKind": {
            "type": "integer",
            "description": "How completion was triggered (1=Invoked, 2=TriggerCharacter, 3=TriggerForIncompleteCompletions)",
            "default": 1
          },
          "triggerCharacter": {
            "type": "string",
            "description": "The trigger character if triggerKind is 2"
          }
        },
        "required": ["uri", "position"]
      }
    }
  ]
}